<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Garage Sale</title>
    <!-- Linking Bootstrap CSS from local files -->
    <link rel="stylesheet" href="css/bootstrap/bootstrap.min.css">
    <!-- Linking your external CSS file from the "css" folder -->
    <link rel="stylesheet" type="text/css" href="./css/style.css">
    <!-- linking to the style sheet containing social media icons-->
    <link rel="stylesheet" type="text/css" href="font-awesome-4.7.0/css/font-awesome.min.css">
    <!--linking to bootstrap.bundle.js file-->
    <script src="js/bootstrap/bootstrap.bundle.js"></script>
    <script src="./js/jquery-3.7.1.min.js"></script>
    <script src="./js/popup.js"></script>
    <!-- Bootstrap JS (optional, if you need Bootstrap JavaScript features) -->
    <!-- <script src="css/bootstrap/js/bootstrap.min.js"></script> -->
    <!--Script for Map functionality-->
    <script src="js/map.js"></script>
    <!--loads the map api from google-->
    <script src="https://maps.googleapis.com/maps/api/js?key=AI=init_Map"></script>

</head>
<body>
    <header>
        <div class="container d-flex align-items-left"> <!-- Added container and flexbox classes -->
            <!-- Logo -->
            <div class="logo">
                <a href="./index.html">
                <img src="images/logo.jpg" alt="Logo"></a> <!-- Add your logo image here -->
            </div>
            <!-- Navbar -->
             <nav class="navbar">
                <ul>
                    <li class="nav-item d-inline-block pr-2"> <!-- Added inline style -->
                        <a class="nav-link" href="./index.html">Search</a>
                    </li>
					<b>|</b>
                    <li class="nav-item d-inline-block pr-2"> <!-- Added inline style -->
                        <a class="nav-link" href="./create.html">Create</a>
                    </li>
					<b>|</b>
                    <li class="nav-item d-inline-block pr-2"> 
                        <a class="nav-link" href="./about_us.html">About Us</a>
                    </li>
                </ul>
            </nav>
			<!-- Buttons -->
			<div class="header-buttons ml-auto">
				<a href="./contact_us.html" class="btn btn-primary">Contact Us</a>
				<a href="#" class="btn btn-secondary" onclick="togglePopup()" id="login">Log In</a>
				<a href="./sign-up.html" class="btn btn-success" id="signup">Sign Up</a>
                <a href="#" class="btn btn-success" id="logout" style="display: none;">Log Out</a>
			</div>
		</div>	
    </header>
    <main class="container">
        <h2>Map</h2>
        <!--creating flex container so that elements appear next to each other-->
        <div class="flex-container">
            <!--Map-->
            <div id="googleMap"></div>
            <!--search bar-->
            <div class="container">
                <div class="topnav">
                    <input type="text" placeholder="Search flea markets" id="search">
                    <!--Script to trigger the Search when the Enter Button is pressed-->
                    <script>
                        var search = document.getElementById("search");
                        search.addEventListener("keypress", function(event) {

                        if (event.key === "Enter") {
                            document.getElementById("search_btn").click();
                        }
                        });

                        console.log(document.getElementById('search').value);
                    </script>
                    <!--calls the JS function getMarkets when clicked-->
                    <i class="fa fa-search" onclick="getMarkets(document.getElementById('search').value, null)" id="search_btn"></i>
                </div>
                <div class="box" id="fleamarket_list">
                    <!--Empty List which gets filled by the updateList function in map.js-->
                    <b id="fleamarket_list_header">Top flea markets in Vienna:</b>
                        <ol></ol>
                </div>
            </div>
        </div>
        <div class="flex-container">
            <!--tags-->
            <div class="box">
                <b>Tags</b> <br>
                <!--<div class="header-buttons">-->
                <a href="#" class="btn btn-new" onclick="getMarkets(document.getElementById('search').value, 'Fashion')">Fashion</a>
                <a href="#" class="btn btn-new" onclick="getMarkets(document.getElementById('search').value, 'Books')">Books</a>
                <a href="#" class="btn btn-new" onclick="getMarkets(document.getElementById('search').value, 'Garden')">Garden</a>
                <a href="#" class="btn btn-new" onclick="getMarkets(document.getElementById('search').value, 'Accessoires')">Accessoires</a>
                <a href="#" class="btn btn-new" onclick="getMarkets(document.getElementById('search').value, 'Travel')">Travel</a>
                <a href="#" class="btn btn-new" onclick="getMarkets(document.getElementById('search').value, 'Household')">Household</a>
            </div>
            <!--follow us box with social media icons-->
            <div class="box">
                <p><b>Follow us</b></p>
                <a href="https://www.facebook.com/" class="fa fa-facebook"></a>
                <a href="https://twitter.com/" class="fa fa-twitter"></a>
                <a href="https://www.instagram.com/" class="fa fa-instagram"></a>
                <a href="https://www.linkedin.com/" class="fa fa-linkedin"></a>
                
            </div>
        </div>
        <center>
            <h2>Featured flea markets</h2>
        </center>
        <!--image carousel with pictures of flea markets-->
        <div class="container">
            <div id="carouselIndicators" class="carousel slide">
              <div class="carousel-indicators">
                <button type="button" data-bs-target="#carouselIndicators" data-bs-slide-to="0" class="active"></button>
                <button type="button" data-bs-target="#carouselIndicators" data-bs-slide-to="1"></button>
                <button type="button" data-bs-target="#carouselIndicators" data-bs-slide-to="2"></button>
                <button type="button" data-bs-target="#carouselIndicators" data-bs-slide-to="3"></button>
                <button type="button" data-bs-target="#carouselIndicators" data-bs-slide-to="4"></button>
              </div>
              <div class="carousel-inner">
                <div class="carousel-item active">
                  <img src="./images/Flea market 1.jpg" class="d-block w-100" alt="Flea market 1">
                </div>
                <div class="carousel-item">
                  <img src="./images/Flea market 2.jpg" class="d-block w-100" alt="Flea market 2">
                </div>
                <div class="carousel-item">
                  <img src="./images/Flea market 3.jpg" class="d-block w-100" alt="Flea market 3">
                </div>
              </div>
              <button class="carousel-control-prev" type="button" data-bs-target="#carouselIndicators" data-bs-slide="prev">
                <span class="carousel-control-prev-icon"></span>
              </button>
              <button class="carousel-control-next" type="button" data-bs-target="#carouselIndicators" data-bs-slide="next">
                <span class="carousel-control-next-icon"></span>
              </button>
            </div>
        </div>
    </main>

    <!-- login popup window-->    
    <div id="popupOverlay" class="overlay-container"> 
        <div class="popup-box"> 
            <h2 style="color: 6DB1BF;">Log In</h2> 
            <form class="form-container" action="./php/login.php"> 
                <label class="form-label" for="username"> Username: </label> 
                <input class="form-input" type="text" placeholder="Enter your username" id="username" name="username" required> 
    
                <label class="form-label" for="password">Password:</label> 
                <input class="form-input" type="password" placeholder="Enter your password" id="password" name="password" required> 
    
                <button class="btn btn-new" type="submit">Submit </button> 
            </form> 
    
            <button class="btn-close-popup" onclick="togglePopup()">Close </button> 
        </div> 
    </div> 

    <footer class="text-left py-3">
        <nav class="navbar">
            <ul>
                <li class="nav-item d-inline-block pr-2"> <!-- Added inline style -->
                    <a class="nav-link" href="./contact_us.html">Contact</a>
                </li>
                <b>|</b>
                <li class="nav-item d-inline-block pr-2"> 
                    <a class="nav-link" href="./terms_of_use.html">Terms of use</a>
                </li>
                <b>|</b>
                <li class="nav-item d-inline-block pr-2"> <!-- Added inline style -->
                    <a class="nav-link" href="./privacy_policy.html">Privacy Policy</a>
                </li>
            </ul>
        </nav>
    </footer>

    <script> //The function wouldn't work when inside of the popup.js file
        function togglePopup() { 
        const overlay = document.getElementById('popupOverlay'); 
        overlay.classList.toggle('show'); 
        } 
    </script>

</body>
</html>
